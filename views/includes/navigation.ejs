<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/css/product.css">
<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand" href="/">Shop</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link <%= path === '/' ? 'active' : '' %>" href="/">
                        <i class="bi bi-house"></i>Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link <%= path === '/products' ? 'active' : '' %>" href="/products">
                        <i class="bi bi-grid"></i>Products
                    </a>
                </li>
                <% if (isAuth) { %>
                    <li class="nav-item">
                        <a class="nav-link <%= path === '/cart' ? 'active' : '' %>" href="/cart">
                            <i class="bi bi-cart3"></i>Cart
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link <%= path === '/orders' ? 'active' : '' %>" href="/orders">
                            <i class="bi bi-bag"></i>Orders
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link <%= path === '/admin/add-product' ? 'active' : '' %>" href="/admin/add-product">
                            <i class="bi bi-plus-circle"></i>Add Product
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link <%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products">
                            <i class="bi bi-gear"></i>Admin Products
                        </a>
                    </li>
                    <% if (isAdmin) { %>
                        <li class="nav-item">
                            <a class="nav-link <%= path === '/admin/dashboard' ? 'active' : '' %>" href="/admin/dashboard">
                                <i class="bi bi-speedometer2"></i>Dashboard
                            </a>
                        </li>
                    <% } %>
                <% } %>
            </ul>
            <ul class="navbar-nav">
                <% if (!isAuth) { %>
                    <li class="nav-item">
                        <a class="nav-link <%= path === '/login' ? 'active' : '' %>" href="/login">
                            <i class="bi bi-box-arrow-in-right"></i>Login
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link <%= path === '/signup' ? 'active' : '' %>" href="/signup">
                            <i class="bi bi-person-plus"></i>Signup
                        </a>
                    </li>
                <% } else { %>
                    <li class="nav-item">
                        <form action="/logout" method="POST" class="d-flex">
                            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                            <button type="submit" class="btn btn-danger btn-sm rounded-pill">
                                <i class="bi bi-box-arrow-right me-1"></i>Logout
                            </button>
                        </form>
                    </li>
                <% } %>
            </ul>
        </div>
    </div>
</nav>
<!-- Add spacing after fixed navbar -->
<div style="margin-top: 76px;"></div>